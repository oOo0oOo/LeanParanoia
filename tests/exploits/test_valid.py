"""
Tests for valid proofs that should pass verification.
"""


def test_simple_theorem(verifier):
    """Test simple valid theorem passes"""
    result = verifier.verify_theorem("LeanTestProject.Valid.Simple", "simple_theorem")

    assert result.success


def test_helper_theorem(verifier):
    """Test helper theorem passes"""
    result = verifier.verify_theorem("LeanTestProject.Valid.Helper", "helper_theorem")

    assert result.success


def test_uses_whitelisted_axioms(verifier):
    """Test theorem using whitelisted Classical axioms passes"""
    result = verifier.verify_theorem("LeanTestProject.Valid.WithAxioms", "uses_choice")

    assert result.success


def test_uses_valid_dependency(verifier):
    """Test theorem using valid helper from another file passes"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.Dependencies", "uses_helper"
    )

    assert result.success


def test_complex_tree_size(verifier):
    """Test theorem about tree size from complex example"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample",
        "tree_size_positive",
        enable_replay=False,  # Skip replay for complex recursive example
    )

    assert result.success


def test_complex_tree_depth(verifier):
    """Test theorem about tree depth from complex example"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample",
        "tree_depth_positive",
        enable_replay=False,  # Skip replay for complex recursive example
    )

    assert result.success


def test_complex_size_geq_depth(verifier):
    """Test theorem about tree size being at least 1"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample",
        "size_ge_one",
        enable_replay=False,  # Skip replay for complex recursive example
    )

    assert result.success


def test_complex_semigroup(verifier):
    """Test semigroup example using type classes"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample",
        "semigroup_example",
        enable_replay=False,  # Skip replay for complex example
    )

    assert result.success


def test_complex_fibonacci(verifier):
    """Test fibonacci definition passes"""
    result = verifier.verify_theorem("LeanTestProject.Valid.ComplexExample", "fib_2")

    assert result.success


def test_complex_safe_divide(verifier):
    """Test safe division with Option type"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample", "safeDivide_zero"
    )

    assert result.success


def test_complex_maybe_add(verifier):
    """Test monadic bind example"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample", "maybeAdd_some"
    )

    assert result.success


def test_complex_exists_larger(verifier):
    """Test existential proposition"""
    result = verifier.verify_theorem(
        "LeanTestProject.Valid.ComplexExample", "exists_larger"
    )

    assert result.success
