namespace LeanTestProject.AuxiliaryShadowing.MatcherShadowing

def bar (n : Nat) : Nat :=
  match n with
  | 0 => 0
  | n + 1 => n

-- Use bar's auxiliary matcher directly
def foo (n : Nat) : Nat :=
  bar.match_1 (fun _ => Nat) n (fun _ => 0) (fun k => k)

theorem test1 : bar 5 = 4 := rfl
theorem test2 : foo 5 = 4 := rfl

end LeanTestProject.AuxiliaryShadowing.MatcherShadowing
