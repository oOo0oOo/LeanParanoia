-- Run tac can forge axioms during tactic execution
import Lean

open Lean Elab Command Meta Tactic

set_option maxHeartbeats 100000 in
def exploit_theorem : False := by
  run_tac do
    liftMetaTactic fun goal => do
      let decl : Declaration := Declaration.axiomDecl {
        name := `RunTacForgedFalse
        levelParams := []
        type := mkConst ``False []
        isUnsafe := false
      }
      Lean.addDecl decl
      goal.assign (mkConst `RunTacForgedFalse [])
      pure []
